{% extends 'admin/base.html' %}
{% block breadcrumbs %}
  <nav class="px-4 pb-3 text-sm text-slate-500 dark:text-slate-400" aria-label="breadcrumb">
    <ol class="breadcrumb m-0">
      <li class="breadcrumb-item"><a href="/admin">Admin</a></li>
      <li class="breadcrumb-item"><a href="/admin/products">Products</a></li>
      <li class="breadcrumb-item active" aria-current="page">Edit</li>
    </ol>
  </nav>
{% endblock %}
{% block content %}
<h3>Edit Product</h3>
<form method="post" enctype="multipart/form-data" class="row g-2 mb-3">
  <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
  <div class="col-md-4"><label class="form-label">Name</label><input class="form-control" name="name" value="{{product.name}}" required></div>
  <div class="col-md-2"><label class="form-label">Price</label><input class="form-control" name="price" value="{{product.price}}" required></div>
  <div class="col-md-2"><label class="form-label">Stock</label><input class="form-control" name="stock" type="number" min="0" value="{{product.stock or 0}}"></div>
  <div class="col-md-2"><label class="form-label">Slug</label><input class="form-control" name="slug" value="{{product.slug}}"></div>
  <div class="col-md-2">
    <label class="form-label">Category</label>
    <select class="form-select" name="category_id">
      {% for c in categories %}<option value="{{c.id}}" {% if product.category_id==c.id %}selected{% endif %}>{{c.name}}</option>{% endfor %}
    </select>
  </div>
  <div class="col-md-6"><label class="form-label">Image URL</label><input class="form-control" name="image_url" value="{{product.image_url}}" placeholder="Or upload below"></div>
  <div class="col-md-3"><label class="form-label">Upload Image</label><input class="form-control" type="file" name="image_file" accept="image/*"></div>
  <div class="col-12 d-flex gap-2 mt-2">
    <div class="form-check form-switch ms-3">
      <input class="form-check-input" type="checkbox" id="isTopPick" name="is_top_pick" {% if product.is_top_pick %}checked{% endif %}>
      <label class="form-check-label" for="isTopPick">Top pick</label>
    </div>
    <div class="form-check form-switch ms-3">
      <input class="form-check-input" type="checkbox" id="isNewArrival" name="is_new_arrival_featured" {% if product.is_new_arrival_featured %}checked{% endif %}>
      <label class="form-check-label" for="isNewArrival">Featured New Arrival</label>
    </div>
    <button class="btn btn-success">Save</button>
    <a class="btn btn-outline-secondary" href="/admin/products">Back</a>
  </div>
</form>
{% endblock %}
